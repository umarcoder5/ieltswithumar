<script type="text/javascript">
        var gk_isXlsx = false;
        var gk_xlsxFileLookup = {};
        var gk_fileData = {};
        function filledCell(cell) {
          return cell !== '' && cell != null;
        }
        function loadFileData(filename) {
        if (gk_isXlsx && gk_xlsxFileLookup[filename]) {
            try {
                var workbook = XLSX.read(gk_fileData[filename], { type: 'base64' });
                var firstSheetName = workbook.SheetNames[0];
                var worksheet = workbook.Sheets[firstSheetName];

                // Convert sheet to JSON to filter blank rows
                var jsonData = XLSX.utils.sheet_to_json(worksheet, { header: 1, blankrows: false, defval: '' });
                // Filter out blank rows (rows where all cells are empty, null, or undefined)
                var filteredData = jsonData.filter(row => row.some(filledCell));

                // Heuristic to find the header row by ignoring rows with fewer filled cells than the next row
                var headerRowIndex = filteredData.findIndex((row, index) =>
                  row.filter(filledCell).length >= filteredData[index + 1]?.filter(filledCell).length
                );
                // Fallback
                if (headerRowIndex === -1 || headerRowIndex > 25) {
                  headerRowIndex = 0;
                }

                // Convert filtered JSON back to CSV
                var csv = XLSX.utils.aoa_to_sheet(filteredData.slice(headerRowIndex)); // Create a new sheet from filtered array of arrays
                csv = XLSX.utils.sheet_to_csv(csv, { header: 1 });
                return csv;
            } catch (e) {
                console.error(e);
                return "";
            }
        }
        return gk_fileData[filename] || "";
        }
        </script><!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>IELTS Reading Tests | IELTS WITH UMAR</title>
    <link rel="icon" href="IELTS WITH UMAR LOGO ORIGINAL.jpg" type="image/png">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        :root {
            --bg-color: #ffffff;
            --text-color: #333333;
            --passage-bg: #f8f9fa;
            --questions-bg: #ffffff;
            --border-color: #e0e0e0;
            --highlight-color: #90EE90;
            /* Changed from blue (#87CEEB) to light green */
            --header-bg: #F0FFF0;
            /* Changed from light blue (#F0F8FF) to light green */
            --header-text: #333333;
            --button-bg: #28a745;
            /* Changed from blue (#007FFF) to green */
            --button-hover: #218838;
            /* Changed from darker blue (#005fbe) to darker green */
            --correct-color: #28a745;
            --incorrect-color: #dc3545;
            --progress-complete: #28a745;
            /* Changed from blue (#007FFF) to green */
            --progress-incomplete: #bdbdbd;
            --timer-bg: #e6ffe6;
            /* Changed from light blue (#e0f2f7) to light green */
            --timer-text: #28a745;
            /* Changed from blue (#0288d1) to green */
            --footer-bg: #f5f5f5;
        }

        .night-mode {
            --bg-color: #121212;
            --text-color: #e0e0e0;
            --passage-bg: #1e1e1e;
            --questions-bg: #1e1e1e;
            --border-color: #424242;
            --highlight-color: #2e7d32;
            /* Changed from dark blue (#0047AB) to dark green */
            --header-bg: #1a1a1a;
            --header-text: #ffffff;
            --button-bg: #2e7d32;
            /* Changed from dark blue (#0047AB) to dark green */
            --button-hover: #1b5e20;
            /* Changed from darker blue (#002e70) to darker green */
            --correct-color: #218838;
            --incorrect-color: #c82333;
            --progress-complete: #2e7d32;
            /* Changed from dark blue (#0047AB) to dark green */
            --progress-incomplete: #616161;
            --timer-bg: #1b5e20;
            /* Changed from dark blue (#002b4d) to dark green */
            --timer-text: #81c784;
            /* Changed from light blue (#81d4fa) to light green */
            --footer-bg: #121212;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            transition: background-color 0.3s, color 0.3s;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background-color: var(--bg-color);
            color: var(--text-color);
            line-height: 1.6;
            height: 100vh;
            display: flex;
            flex-direction: column;
            overflow: hidden;
        }

        header {
            background-color: var(--header-bg);
            color: var(--header-text);
            padding: 12px 20px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);
            z-index: 100;
        }

        .header-logo {
            font-size: 18px;
            font-weight: 600;
        }

        .header-logo a {
            color: var(--header-text);
            text-decoration: none;
        }

        .header-controls {
            display: flex;
            gap: 15px;
            align-items: center;
        }

        .timer-container {
            background-color: var(--timer-bg);
            color: var(--timer-text);
            padding: 8px 15px;
            border-radius: 50px;
            font-weight: 600;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .timer-controls {
            display: flex;
            gap: 8px;
        }

        .timer-controls button {
            background: none;
            border: none;
            color: var(--timer-text);
            cursor: pointer;
            font-size: 16px;
            padding: 4px;
            border-radius: 50%;
            width: 28px;
            height: 28px;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .timer-controls button:hover {
            background-color: rgba(0, 0, 0, 0.1);
        }

        .night-mode .timer-controls button:hover {
            background-color: rgba(255, 255, 255, 0.2);
        }

        .mode-toggle {
            background: none;
            border: none;
            color: var(--header-text);
            cursor: pointer;
            font-size: 20px;
            padding: 6px;
            border-radius: 50%;
            width: 36px;
            height: 36px;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .mode-toggle:hover {
            background-color: rgba(0, 0, 0, 0.1);
        }

        .night-mode .mode-toggle:hover {
            background-color: rgba(255, 255, 255, 0.2);
        }

        main {
            display: flex;
            flex: 1;
            overflow: hidden;
        }

        .passage-container,
        .questions-container {
            height: 100%;
            overflow-y: auto;
            padding: 20px;
        }

        .passage-container {
            width: 50%;
            background-color: var(--passage-bg);
            border-right: 1px solid var(--border-color);
            position: relative;
        }

        .questions-container {
            width: 50%;
            background-color: var(--questions-bg);
        }

        .passage-content {
            max-width: 800px;
            margin: 0 auto;
        }

        .passage-title {
            font-size: 24px;
            font-weight: 700;
            margin-bottom: 20px;
            color: var(--text-color);
            padding-bottom: 10px;
            border-bottom: 2px solid var(--border-color);
        }

        .passage-text {
            font-size: 17px;
        }

        .question-text {
            font-size: 17px;
            line-height: 1.8;
        }

        .passage-text p {
            margin-bottom: 20px;
            text-align: justify;
        }

        .highlight {
            background-color: var(--highlight-color);
            cursor: pointer;
        }

        .highlight-tooltip {
            position: absolute;
            background-color: #333;
            color: white;
            padding: 5px 10px;
            border-radius: 4px;
            font-size: 14px;
            z-index: 1000;
            cursor: pointer;
            display: flex;
            align-items: center;
            gap: 5px;
        }

        .section-title {
            font-size: 18px;
            font-weight: 600;
            margin: 25px 0 15px;
            color: var(--text-color);
            padding-bottom: 8px;
            border-bottom: 1px solid var(--border-color);
        }

        .question-group {
            margin-bottom: 30px;
        }

        .question {
            margin-bottom: 25px;
            padding: 15px;
            border-radius: 8px;
            background-color: var(--passage-bg);
            border-left: 4px solid var(--border-color);
        }

        .question-title {
            font-weight: 600;
            margin-bottom: 12px;
            display: flex;
            align-items: baseline;
        }

        .question-number {
            display: inline-block;
            width: 28px;
            height: 28px;
            background-color: var(--progress-incomplete);
            color: white;
            border-radius: 50%;
            text-align: center;
            line-height: 28px;
            margin-right: 10px;
            font-size: 14px;
            flex-shrink: 0;
        }

        .question.answered .question-number {
            background-color: var(--progress-complete);
        }

        .options {
            display: flex;
            flex-direction: column;
            gap: 8px;
            margin-top: 8px;
        }

        .option {
            display: flex;
            align-items: center;
            cursor: pointer;
        }

        .option input {
            margin-right: 8px;
        }

        .fill-in-the-blank {
            background: transparent;
            border: none;
            border-bottom: 2px solid var(--text-color);
            width: 150px;
            font-family: inherit;
            font-size: 1em;
            color: inherit;
            padding: 0 4px 2px 4px;
            margin: 0 3px;
            vertical-align: baseline;
            text-align: center;
            outline: none;
            transition: border-color 0.3s;
        }

        .fill-in-the-blank:focus {
            border-bottom-color: var(--button-bg);
        }

        .instructions {
            font-size: 14px;
            color: #757575;
            margin-top: 5px;
            font-style: italic;
        }

        .matching-table {
            width: 100%;
            border-collapse: collapse;
            margin-top: 20px;
            font-size: 16px;
        }

        .matching-table th,
        .matching-table td {
            border: 1px solid var(--border-color);
            padding: 10px 15px;
            text-align: center;
        }

        .matching-table th {
            background-color: var(--header-bg);
            color: var(--header-text);
            font-weight: 600;
        }

        .matching-table td {
            background-color: var(--passage-bg);
            cursor: pointer;
            transition: background-color 0.2s;
        }

        .matching-table td:hover:not(.question-cell):not(.header-cell) {
            background-color: rgba(40, 167, 69, 0.1);
            /* Adjusted for green */
        }

        .night-mode .matching-table td:hover:not(.question-cell):not(.header-cell) {
            background-color: rgba(46, 125, 50, 0.2);
            /* Adjusted for green */
        }

        .matching-table .question-cell {
            text-align: left;
            font-weight: 500;
            background-color: var(--questions-bg);
        }

        .matching-table .header-cell {
            background-color: var(--header-bg);
            color: var(--header-text);
            font-weight: 600;
        }

        .matching-table .selected {
            background-color: var(--highlight-color);
        }

        footer {
            background-color: var(--footer-bg);
            padding: 15px 20px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            border-top: 1px solid var(--border-color);
            box-shadow: 0 -2px 5px rgba(0, 0, 0, 0.05);
        }

        .progress-container {
            display: flex;
            gap: 8px;
        }

        .progress-item {
            width: 32px;
            height: 32px;
            border-radius: 50%;
            background-color: var(--progress-incomplete);
            color: white;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 14px;
            cursor: pointer;
            transition: transform 0.2s;
        }

        .progress-item:hover {
            transform: scale(1.1);
        }

        .progress-item.completed {
            background-color: var(--progress-complete);
        }

        .action-buttons {
            display: flex;
            gap: 12px;
        }

        button {
            padding: 10px 20px;
            border: none;
            border-radius: 4px;
            cursor: pointer;
            font-weight: 600;
            transition: background-color 0.3s, border-color 0.3s, color 0.3s;
        }

        .btn-primary {
            background-color: var(--button-bg);
            color: white;
        }

        .btn-primary:hover {
            background-color: var(--button-hover);
        }

        .btn-secondary {
            background-color: transparent;
            border: 1px solid var(--button-bg);
            color: var(--button-bg);
        }

        .btn-secondary:hover {
            background-color: rgba(40, 167, 69, 0.1);
            /* Adjusted for green */
        }

        .night-mode .btn-secondary:hover {
            background-color: rgba(46, 125, 50, 0.2);
            /* Adjusted for green */
        }

        .feedback-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.7);
            z-index: 1000;
            display: none;
            justify-content: center;
            align-items: center;
        }

        .feedback-container {
            background-color: var(--passage-bg);
            width: 90%;
            max-width: 900px;
            height: 90%;
            border-radius: 10px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.3);
            display: flex;
            flex-direction: column;
        }

        .feedback-header {
            padding: 20px;
            border-bottom: 1px solid var(--border-color);
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .feedback-title {
            font-size: 22px;
            font-weight: 700;
            color: var(--text-color);
            display: flex;
            align-items: center;
            gap: 10px;
        }

        #close-feedback {
            font-size: 24px;
            background: none;
            border: none;
            color: var(--text-color);
            cursor: pointer;
        }

        .score-display {
            font-size: 24px;
            font-weight: 700;
            margin-left: 10px;
        }

        .feedback-body {
            padding: 20px;
            overflow-y: auto;
        }

        .feedback-item {
            margin-bottom: 25px;
            padding: 15px;
            border-radius: 8px;
            background-color: var(--questions-bg);
        }

        .feedback-question {
            font-weight: 600;
            margin-bottom: 10px;
            display: flex;
            align-items: center;
        }

        .feedback-answer {
            margin-bottom: 10px;
            padding: 8px 12px;
            border-radius: 4px;
            background-color: rgba(0, 0, 0, 0.05);
        }

        .correct {
            color: var(--correct-color);
        }

        .incorrect {
            color: var(--incorrect-color);
        }

        .feedback-explanation {
            margin-top: 10px;
            padding: 10px;
            border-left: 3px solid var(--button-bg);
            background-color: rgba(0, 0, 0, 0.03);
        }

        .feedback-passage {
            margin-top: 8px;
            font-style: italic;
            color: #757575;
        }

        @media (max-width: 900px) {
            main {
                flex-direction: column;
            }

            .passage-container,
            .questions-container {
                width: 100%;
                height: 50%;
            }

            .passage-container {
                border-right: none;
                border-bottom: 1px solid var(--border-color);
            }

            .progress-container {
                flex-wrap: wrap;
                max-width: 60%;
            }
        }

        @media (max-width: 600px) {
            header {
                flex-direction: column;
                gap: 10px;
                padding: 10px;
            }

            .header-controls {
                width: 100%;
                justify-content: space-around;
            }

            .progress-container {
                max-width: 50%;
            }

            .progress-item {
                width: 26px;
                height: 26px;
                font-size: 12px;
            }

            footer {
                flex-direction: column;
                gap: 15px;
            }

            .action-buttons {
                width: 100%;
                justify-content: center;
            }
        }
    </style>
</head>

<body>
    <header style="background-color: rgb(0, 175, 0);">
        <div class="header-controls">
            <div class="timer-container">
                <i class="fas fa-clock"></i>
                <span id="timer">20:00</span>
                <div class="timer-controls">
                    <button id="start-timer" title="Start"><i class="fas fa-play"></i></button>
                    <button id="pause-timer" title="Pause"><i class="fas fa-pause"></i></button>
                    <button id="reset-timer" title="Reset"><i class="fas fa-redo"></i></button>
                </div>
            </div>
            <button class="mode-toggle" id="night-mode-toggle" title="Toggle Night Mode">
                <i class="fas fa-moon"></i>
            </button>
        </div>
    </header>

    <main>
        <div class="passage-container" id="passage-container">
            <div class="passage-content">
                <div class="passage-title">Some Views on the Use of Headphones</div>
                <div class="passage-text" id="passage-text">
                    <p>Whether wearing headphones at work, or in other areas of everyday life, is a good thing or a bad thing has generated a lot of research and opinion. To visit a typical modern office today is to walk into a room with possibly a dozen songs playing simultaneously but to hear none of them. Up to half of younger workers listen to music on their headphones, and nearly all of them think it makes them better at their jobs. In survey after survey, people report with confidence that music makes them happier, better at concentrating, and more productive.</p>
                    <p>Scientists do not share this belief; they maintain that listening to music hurts people's ability to recall other things they should be doing, and any pop song, loud or soft, reduces overall performance for both extroverts and introverts. A Taiwanese study found that listening to music while working reduced the accuracy of their judgments, and other research has shown music with lyrics scrambles our brains' verbal-processing skills. "As silence has the best overall performance, it would still be advisable that people work in silence," another reporter dryly concluded.</p>
                    <p>The question is therefore: if headphones are so bad for productivity, why do so many people at work have them? One factor to consider is that countries like the USA have moved from a farming and manufacturing economy to a service economy, with an emphasis on jobs in offices that require higher levels of concentration, reflection, and creativity. As an estimated 70 percent of office workers work in open-plan office spaces, it is more important to create one's own enclosing bubble of sound. Lending strength to the argument for headphones at work is evidence that music relaxes our muscles, improves our mood, and may even moderately reduce blood pressure, heart rate, and anxiety.</p>
                    <p>The story of headphones begins in 1910, when the US Navy received an odd letter written in purple ink on blue-and-pink paper. The letter writer, an eccentric inventor and repairman named Nathaniel Baldwin, from the US state of Utah, made what at the time was an astonishing claim: he had built, in his kitchen, a new kind of headset that could amplify sound. This was an opportune invention for the Navy, who asked for a sound test and then enthusiastically adopted the headsets, later called headphones, and used them in World War I for naval radio communication.</p>
                    <p>The purpose of headphones is to concentrate a quiet and private sound in the ear of the listener, which is a radical departure from music's social purpose in history. Music, together with dance, co-evolved biologically and culturally to serve as a technology of social bonding. Nills L. Wallin and Bjorn Merker wrote in <i>The Origins of Music</i>, songs don't leave behind fossils, but evidence of musical notation dates back to Sumeria, 3,500 years ago, and in 1995 archaeologists discovered a bone flute in southern Europe estimated to be 44,000 years old. If music evolved as a social glue for the species, as a way to make groups and keep them together, headphones have done what writing and literacy did for language – they made music private.</p>
                    <p>Author and columnist Stephen Marche wrote that separation from other people is one of the first things ordinary Americans spend their money achieving. It is 'a by-product of a long-standing national appetite for independence,' he said. Americans are not alone in their desire for personal independence and privacy. Marche is right – wealth can buy, and modern technology can deliver, personal independence, and it is this that people have always sought.</p>
                    <p>Dr Michael Bull, an expert on personal music devices from the University of Sussex in the UK, has repeatedly made the larger point that personal music devices change how we relate to public spaces. Controlling our public spaces is more important now that more people are moving from the edges of cities to live in urban centers. With the urban space, the more it's inhabited, the safer you feel. But, he says, 'You feel safe, you can feel people there, but you don't want to interact with them.' Headphones create shields for wearers, separating them from other people and their surroundings. Headphones have their own rules of good manners; they are like wearing a 'Do not disturb' sign. We assume that people wearing them are busy and we should respect their privacy, so now people wear them to appear busy. In fact, it is becoming quite common for people not to listen to anything at all, but just to wear headphones.</p>
                    <p>However, as pointed out at the beginning of this piece, although scientists have stated that headphones are bad for productivity, people still wear them at work. It is not just that headphones create privacy out of public areas, but also that music causes people to relax and reflect and pause. The outcome of relaxation, reflection, and pausing at work won't be captured in minute-to-minute productivity metrics. What must be considered is that in moments of extreme focus, attention radiates outward, toward the problem, rather than inward, on how to solve the problem. However, with music, 'When our minds are at ease, we're more likely to direct the spotlight of attention inward,' Jonah Lehrer wrote in his book <i>Imagine: How Creativity Works</i>. 'The answers have been there all along. We just weren't listening.' In a crowded world, real estate is the ultimate scarce resource, and a headphone is a small invisible fence around our minds – making space, creating separation, and helping us listen to ourselves.</p>
                </div>
            </div>
        </div>

        <div class="questions-container" id="questions-container">
            <div class="section-title">Questions 27–31</div>
            <div class="instructions">Do the following statements agree with the claims of the writer in Reading Passage 3? In boxes 27-31 on your answer sheet, write<br>YES &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; if the statement agrees with the claims of the writer<br>NO &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; if the statement contradicts the claims of the writer<br>NOT GIVEN &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; if it is impossible to say what the writer thinks about this</div>
            <div class="question-group">
                <div class="question" id="q27">
                    <div class="question-title">
                        <div class="question-number">27</div>
                        <div class="question-text">Young people are easily persuaded by surveys that listening to music is beneficial.</div>
                    </div>
                    <div class="options">
                        <label class="option"><input type="radio" name="q27" value="YES"> YES</label>
                        <label class="option"><input type="radio" name="q27" value="NO"> NO</label>
                        <label class="option"><input type="radio" name="q27" value="NOT GIVEN"> NOT GIVEN</label>
                    </div>
                </div>
                <div class="question" id="q28">
                    <div class="question-title">
                        <div class="question-number">28</div>
                        <div class="question-text">Different studies share the same conclusions about the desirability of working in silence.</div>
                    </div>
                    <div class="options">
                        <label class="option"><input type="radio" name="q28" value="YES"> YES</label>
                        <label class="option"><input type="radio" name="q28" value="NO"> NO</label>
                        <label class="option"><input type="radio" name="q28" value="NOT GIVEN"> NOT GIVEN</label>
                    </div>
                </div>
                <div class="question" id="q29">
                    <div class="question-title">
                        <div class="question-number">29</div>
                        <div class="question-text">Some doctors recommend wearing headphones to lower blood pressure.</div>
                    </div>
                    <div class="options">
                        <label class="option"><input type="radio" name="q29" value="YES"> YES</label>
                        <label class="option"><input type="radio" name="q29" value="NO"> NO</label>
                        <label class="option"><input type="radio" name="q29" value="NOT GIVEN"> NOT GIVEN</label>
                    </div>
                </div>
                <div class="question" id="q30">
                    <div class="question-title">
                        <div class="question-number">30</div>
                        <div class="question-text">Nathaniel Baldwin was a respected government researcher.</div>
                    </div>
                    <div class="options">
                        <label class="option"><input type="radio" name="q30" value="YES"> YES</label>
                        <label class="option"><input type="radio" name="q30" value="NO"> NO</label>
                        <label class="option"><input type="radio" name="q30" value="NOT GIVEN"> NOT GIVEN</label>
                    </div>
                </div>
                <div class="question" id="q31">
                    <div class="question-title">
                        <div class="question-number">31</div>
                        <div class="question-text">The effect of the invention of headphones is comparable to the effect of the invention of writing.</div>
                    </div>
                    <div class="options">
                        <label class="option"><input type="radio" name="q31" value="YES"> YES</label>
                        <label class="option"><input type="radio" name="q31" value="NO"> NO</label>
                        <label class="option"><input type="radio" name="q31" value="NOT GIVEN"> NOT GIVEN</label>
                    </div>
                </div>
            </div>

            <div class="section-title">Questions 32–36</div>
            <div class="instructions">Choose the correct letter, A, B, C or D. Write the correct letter in boxes 32-36 on your answer sheet.</div>
            <div class="question-group">
                <div class="question" id="q32">
                    <div class="question-title">
                        <div class="question-number">32</div>
                        <div class="question-text">What does the writer suggest about a service economy?</div>
                    </div>
                    <div class="options">
                        <label class="option"><input type="radio" name="q32" value="A"> A. The work is mentally demanding</label>
                        <label class="option"><input type="radio" name="q32" value="B"> B. It provides employment for younger workers</label>
                        <label class="option"><input type="radio" name="q32" value="C"> C. It is a small part of a country's economy</label>
                        <label class="option"><input type="radio" name="q32" value="D"> D. Workers have to live in urban centres</label>
                    </div>
                </div>
                <div class="question" id="q33">
                    <div class="question-title">
                        <div class="question-number">33</div>
                        <div class="question-text">When the writer mentions the historical evidence for early music he is</div>
                    </div>
                    <div class="options">
                        <label class="option"><input type="radio" name="q33" value="A"> A. emphasizing the diversity of musical forms</label>
                        <label class="option"><input type="radio" name="q33" value="B"> B. expressing his frustration with the limited archaeological evidence uncovered</label>
                        <label class="option"><input type="radio" name="q33" value="C"> C. lending support to the view that music has been important in human history</label>
                        <label class="option"><input type="radio" name="q33" value="D"> D. creating a geographical map of the evolution of music</label>
                    </div>
                </div>
                <div class="question" id="q34">
                    <div class="question-title">
                        <div class="question-number">34</div>
                        <div class="question-text">What does the writer say about the social effects of listening to music through headphones?</div>
                    </div>
                    <div class="options">
                        <label class="option"><input type="radio" name="q34" value="A"> A. It has caused a reduction in the number of people who listen to music</label>
                        <label class="option"><input type="radio" name="q34" value="B"> B. It has increased people's participation in music events</label>
                        <label class="option"><input type="radio" name="q34" value="C"> C. It has reduced the global variation of music styles</label>
                        <label class="option"><input type="radio" name="q34" value="D"> D. It has changed the traditional role of music in society</label>
                    </div>
                </div>
                <div class="question" id="q35">
                    <div class="question-title">
                        <div class="question-number">35</div>
                        <div class="question-text">What does the writer say about personal independence?</div>
                    </div>
                    <div class="options">
                        <label class="option"><input type="radio" name="q35" value="A"> A. Americans are unique in their desire for personal independence</label>
                        <label class="option"><input type="radio" name="q35" value="B"> B. Personal independence is something that can be purchased</label>
                        <label class="option"><input type="radio" name="q35" value="C"> C. Striving for personal independence is a recent phenomenon</label>
                        <label class="option"><input type="radio" name="q35" value="D"> D. Personal independence destroys social connections</label>
                    </div>
                </div>
                <div class="question" id="q36">
                    <div class="question-title">
                        <div class="question-number">36</div>
                        <div class="question-text">Why does the writer quote Jonah Lehrer in the last paragraph?</div>
                    </div>
                    <div class="options">
                        <label class="option"><input type="radio" name="q36" value="A"> A. to support the writer's own view</label>
                        <label class="option"><input type="radio" name="q36" value="B"> B. to draw attention to an authoritative book about music</label>
                        <label class="option"><input type="radio" name="q36" value="C"> C. to raise awareness of people's loss of listening skills</label>
                        <label class="option"><input type="radio" name="q36" value="D"> D. to illustrate how music brings people closer to each other</label>
                    </div>
                </div>
            </div>

            <div class="section-title">Questions 37–40</div>
            <div class="instructions">Complete the summary using the list of words, A-I, below. Write the correct letter, A-I, in boxes 37-40 on your answer sheet.</div>
            <div class="question-group">
                <div class="question" id="q37">
                    <div class="question-title">
                        <div class="question-number">37</div>
                        <div class="question-text">Dr Michael Bull believes that listening to music through headphones has changed the <input type="text" class="fill-in-the-blank" name="q37"> the wearers of headphones have with public spaces. Living in the centre of cities is becoming popular, as people become less keen on living in the <input type="text" class="fill-in-the-blank" name="q38">. In densely populated city centres, headphones form <input type="text" class="fill-in-the-blank" name="q39"> that isolate people from fellow citizens and from their environment. Wearers of headphones are treated with <input type="text" class="fill-in-the-blank" name="q40"> that other people do not receive. This is because if we see someone wearing headphones, we believe they must be occupied in some way and should not be interrupted.</div>
                    </div>
                    <div class="options-list">
                        <strong>List of Words</strong>
                        <ul>
                            <li>A. courtesy</li>
                            <li>B. relationship</li>
                            <li>C. difficulty</li>
                            <li>D. countryside</li>
                            <li>E. suburbs</li>
                            <li>F. language</li>
                            <li>G. barriers</li>
                            <li>H. obstacles</li>
                            <li>I. disapproval</li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>
    </main>

    <footer>
        <div class="progress-container" id="progress-container">
        </div>
        <div class="action-buttons">
            <button class="btn-secondary" id="reset-btn">Reset Answers</button>
            <button class="btn-primary" id="submit-btn">Submit Answers</button>
        </div>
    </footer>

    <div class="feedback-overlay" id="feedback-overlay">
        <div class="feedback-container" id="feedback-container">
            <div class="feedback-header">
                <div class="feedback-title">
                    <i class="fas fa-chart-bar"></i> Your Results
                    <span class="score-display" id="score-display">0/14</span>
                </div>
                <button id="close-feedback" title="Close"><i class="fas fa-times"></i></button>
            </div>
            <div class="feedback-body" id="feedback-body">
            </div>
        </div>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            // Timer functionality
            let timerInterval;
            let seconds = 1200; // 20 minutes
            let timerRunning = false;

            const timerDisplay = document.getElementById('timer');
            const startTimer = document.getElementById('start-timer');
            const pauseTimer = document.getElementById('pause-timer');
            const resetTimer = document.getElementById('reset-timer');

            if (!timerDisplay || !startTimer || !pauseTimer || !resetTimer) {
                console.error('One or more timer elements not found');
                return;
            }

            function formatTime(seconds) {
                const mins = Math.floor(seconds / 60).toString().padStart(2, '0');
                const secs = (seconds % 60).toString().padStart(2, '0');
                return `${mins}:${secs}`;
            }

            function updateTimer() {
                timerDisplay.textContent = formatTime(seconds);
                if (seconds <= 0) {
                    clearInterval(timerInterval);
                    timerRunning = false;
                    const submitBtn = document.getElementById('submit-btn');
                    if (submitBtn) submitBtn.click();
                }
            }

            startTimer.addEventListener('click', () => {
                if (!timerRunning) {
                    timerRunning = true;
                    timerInterval = setInterval(() => {
                        seconds--;
                        updateTimer();
                    }, 1000);
                }
            });

            pauseTimer.addEventListener('click', () => {
                if (timerRunning) {
                    clearInterval(timerInterval);
                    timerRunning = false;
                }
            });

            resetTimer.addEventListener('click', () => {
                clearInterval(timerInterval);
                timerRunning = false;
                seconds = 1200;
                updateTimer();
            });

            // Night mode toggle
            const nightModeToggle = document.getElementById('night-mode-toggle');
            if (nightModeToggle) {
                nightModeToggle.addEventListener('click', () => {
                    document.body.classList.toggle('night-mode');
                    const icon = nightModeToggle.querySelector('i');
                    if (document.body.classList.contains('night-mode')) {
                        icon.classList.remove('fa-moon');
                        icon.classList.add('fa-sun');
                    } else {
                        icon.classList.remove('fa-sun');
                        icon.classList.add('fa-moon');
                    }
                });
            } else {
                console.error('Night mode toggle element not found');
            }

            // Create progress indicators for questions 27-40
            const progressContainer = document.getElementById('progress-container');
            if (progressContainer) {
                for (let i = 27; i <= 40; i++) {
                    const progressItem = document.createElement('div');
                    progressItem.className = 'progress-item';
                    progressItem.textContent = i;
                    progressItem.dataset.question = i;
                    progressContainer.appendChild(progressItem);

                    progressItem.addEventListener('click', () => {
                        const questionElement = document.getElementById(`q${i}`);
                        if (questionElement) {
                            questionElement.scrollIntoView({ behavior: 'smooth' });
                        }
                    });
                }
            } else {
                console.error('Progress container not found');
            }

            // Text highlighting functionality
            let highlightTooltip = null;

            function handleMouseUp(e) {
                const container = e.currentTarget;
                const selection = window.getSelection();
                if (selection.toString().trim() !== '' && container.contains(selection.anchorNode)) {
                    const range = selection.getRangeAt(0);
                    const rect = range.getBoundingClientRect();

                    if (highlightTooltip) {
                        highlightTooltip.remove();
                        highlightTooltip = null;
                    }

                    highlightTooltip = document.createElement('div');
                    highlightTooltip.className = 'highlight-tooltip';
                    highlightTooltip.innerHTML = '<i class="fas fa-highlighter"></i> Highlight';
                    highlightTooltip.style.position = 'fixed';
                    highlightTooltip.style.top = `${rect.top - 40}px`;
                    highlightTooltip.style.left = `${rect.left}px`;
                    document.body.appendChild(highlightTooltip);

                    highlightTooltip.addEventListener('click', () => {
                        const span = document.createElement('span');
                        span.className = 'highlight';
                        span.appendChild(range.extractContents());
                        range.insertNode(span);
                        selection.removeAllRanges();
                        highlightTooltip.remove();
                        highlightTooltip = null;
                    });
                }
            }

            const passageText = document.getElementById('passage-text');
            const questionsContainer = document.getElementById('questions-container');
            if (passageText) {
                passageText.addEventListener('mouseup', handleMouseUp);
            } else {
                console.error('Passage text element not found');
            }
            if (questionsContainer) {
                questionsContainer.addEventListener('mouseup', handleMouseUp);
            } else {
                console.error('Questions container not found');
            }

            document.addEventListener('mousedown', (e) => {
                if (highlightTooltip && !highlightTooltip.contains(e.target)) {
                    highlightTooltip.remove();
                    highlightTooltip = null;
                    window.getSelection().removeAllRanges();
                }
            });

            // Store user answers for all questions
            const userAnswers = {};

            // Track answered questions and update progress bar
            const progressItems = document.querySelectorAll('.progress-item');

            function updateProgress() {
                let answeredCount = 0;

                for (let i = 27; i <= 40; i++) {
                    const questionNumber = i;
                    let answered = false;

                    if (questionNumber >= 37 && questionNumber <= 40) {
                        const input = document.querySelector(`input[name="q${questionNumber}"]`);
                        answered = input && input.value.trim() !== '';
                        if (answered) {
                            userAnswers[questionNumber] = input.value.trim().toUpperCase();
                        } else {
                            delete userAnswers[questionNumber];
                        }
                    } else if (questionNumber >= 27 && questionNumber <= 36) {
                        const selectedOption = document.querySelector(`input[name="q${questionNumber}"]:checked`);
                        answered = selectedOption !== null;
                        if (answered) {
                            userAnswers[questionNumber] = selectedOption.value;
                        } else {
                            delete userAnswers[questionNumber];
                        }
                    }

                    const progressItem = progressItems[questionNumber - 27];
                    if (answered && progressItem) {
                        progressItem.classList.add('completed');
                        answeredCount++;
                    } else if (progressItem) {
                        progressItem.classList.remove('completed');
                    }
                }
                return answeredCount;
            }

            document.querySelectorAll('input[type="text"]').forEach(input => {
                input.addEventListener('input', updateProgress);
            });

            document.querySelectorAll('input[type="radio"]').forEach(radio => {
                radio.addEventListener('change', updateProgress);
            });

            // Reset button
            const resetBtn = document.getElementById('reset-btn');
            if (resetBtn) {
                resetBtn.addEventListener('click', () => {
                    document.querySelectorAll('input[type="text"]').forEach(input => {
                        input.value = '';
                    });

                    document.querySelectorAll('input[type="radio"]').forEach(radio => {
                        radio.checked = false;
                    });

                    for (let key in userAnswers) {
                        delete userAnswers[key];
                    }

                    document.querySelectorAll('.highlight').forEach(highlight => {
                        const parent = highlight.parentNode;
                        while (highlight.firstChild) {
                            parent.insertBefore(highlight.firstChild, highlight);
                        }
                        parent.removeChild(highlight);
                        parent.normalize();
                    });

                    updateProgress();
                    const feedbackOverlay = document.getElementById('feedback-overlay');
                    if (feedbackOverlay) feedbackOverlay.style.display = 'none';
                });
            } else {
                console.error('Reset button not found');
            }

            // Submit and Feedback functionality
            const feedbackOverlay = document.getElementById('feedback-overlay');
            const closeFeedbackBtn = document.getElementById('close-feedback');
            const submitBtn = document.getElementById('submit-btn');

            if (!feedbackOverlay || !closeFeedbackBtn || !submitBtn) {
                console.error('Feedback or submit elements not found');
                return;
            }

            submitBtn.addEventListener('click', () => {
                pauseTimer.click();

                const answers = {
                    27: 'NO', 28: 'YES', 29: 'NOT GIVEN', 30: 'NO', 31: 'YES',
                    32: 'A', 33: 'C', 34: 'D', 35: 'B', 36: 'A',
                    37: 'B', 38: 'E', 39: 'G', 40: 'A'
                };

                const explanations = {
                    27: "The passage states that young workers 'report with confidence' that music improves their performance, but there is no mention of them being easily persuaded by surveys.",
                    28: "The passage cites multiple studies concluding that silence is preferable for productivity, such as the Taiwanese study and the reporter's conclusion that 'silence has the best overall performance.'",
                    29: "The passage mentions that music may reduce blood pressure, heart rate, and anxiety, but does not specify that doctors recommend headphones for this purpose.",
                    30: "The passage describes Nathaniel Baldwin as 'an eccentric inventor and repairman,' not a respected government researcher.",
                    31: "The passage compares the privatization of music by headphones to the effect of writing and literacy on language, stating, 'headphones have done what writing and literacy did for language – they made music private.'",
                    32: "The passage notes that the service economy emphasizes 'jobs in offices that require higher levels of concentration, reflection, and creativity,' indicating mentally demanding work.",
                    33: "The mention of Sumerian musical notation and a 44,000-year-old bone flute supports the view that music has been historically significant for social bonding.",
                    34: "The passage states that headphones made music private, a 'radical departure from music's social purpose in history,' thus changing its traditional societal role.",
                    35: "The passage quotes Stephen Marche, stating that 'wealth can buy and modern technology can deliver personal independence,' supporting the idea that it can be purchased.",
                    36: "The quote from Jonah Lehrer supports the writer's view that music helps direct attention inward, fostering creativity and reflection.",
                    37: "Dr Michael Bull states that personal music devices 'change how we relate to public spaces,' indicating a change in relationship.",
                    38: "The passage mentions people moving from 'the edges of cities' (suburbs) to urban centers, implying less interest in suburban living.",
                    39: "Headphones are described as creating 'shields' that separate wearers from others, synonymous with barriers.",
                    40: "The passage notes that headphones signal a 'Do not disturb' sign, and people respect the wearer's privacy, which aligns with treating them with courtesy."
                };

                const passageReferences = {
                    27: "In survey after survey, people report with confidence that music makes them happier, better at concentrating, and more productive.",
                    28: "Scientists... maintain that listening to music hurts people's ability to recall other things... 'As silence has the best overall performance, it would still be advisable that people work in silence,' another reporter dryly concluded.",
                    29: "Lending strength to the argument for headphones at work is evidence that music relaxes our muscles, improves our mood, and may even moderately reduce blood pressure, heart rate, and anxiety.",
                    30: "The letter writer, an eccentric inventor and repairman named Nathaniel Baldwin, from the US state of Utah...",
                    31: "If music evolved as a social glue for the species... headphones have done what writing and literacy did for language – they made music private.",
                    32: "One factor to consider is that countries like the USA have moved... to a service economy, with an emphasis on jobs in offices that require higher levels of concentration, reflection, and creativity.",
                    33: "Nills L. Wallin and Bjorn Merker wrote in The Origins of Music, songs don't leave behind fossils, but evidence of musical notation dates back to Sumeria, 3,500 years ago, and in 1995 archaeologists discovered a bone flute in southern Europe estimated to be 44,000 years old.",
                    34: "The purpose of headphones is to concentrate a quiet and private sound in the ear of the listener, which is a radical departure from music's social purpose in history.",
                    35: "Marche is right – wealth can buy, and modern technology can deliver, personal independence, and it is this that people have always sought.",
                    36: "However, with music, 'When our minds are at ease, we're more likely to direct the spotlight of attention inward,' Jonah Lehrer wrote in his book Imagine: How Creativity Works.",
                    37: "Dr Michael Bull... has repeatedly made the larger point that personal music devices change how we relate to public spaces.",
                    38: "Controlling our public spaces is more important now that more people are moving from the edges of cities to live in urban centers.",
                    39: "Headphones create shields for wearers, separating them from other people and their surroundings.",
                    40: "Headphones have their own rules of good manners; they are like wearing a 'Do not disturb' sign. We assume that people wearing them are busy and we should respect their privacy."
                };

                let correctCount = 0;
                const feedbackBody = document.getElementById('feedback-body');
                if (feedbackBody) {
                    feedbackBody.innerHTML = '';
                } else {
                    console.error('Feedback body not found');
                    return;
                }

                for (let i = 27; i <= 40; i++) {
                    let userAnswer, isCorrect, questionHTML, actualQuestionText;
                    const feedbackItem = document.createElement('div');
                    feedbackItem.className = 'feedback-item';

                    if (i >= 37 && i <= 40) {
                        const input = document.querySelector(`input[name="q${i}"]`);
                        const questionDiv = document.getElementById(`q${i}`);
                        if (questionDiv) {
                            actualQuestionText = questionDiv.querySelector('.question-text').textContent;
                        }
                        userAnswer = userAnswers[i] || 'Not answered';
                        isCorrect = userAnswer === answers[i];

                        questionHTML = `<div class="question-title-text">${actualQuestionText || ''}</div>`;
                        questionHTML += `<div class="feedback-answer">Your selection: <span class="${isCorrect ? 'correct' : 'incorrect'}"><strong>${userAnswer}</strong></span>`;
                        if (!isCorrect) {
                            questionHTML += ` Correct answer: <span class="correct"><strong>${answers[i]}</strong></span>`;
                        }
                        questionHTML += `</div>`;
                    } else if (i >= 27 && i <= 36) {
                        const questionDiv = document.getElementById(`q${i}`);
                        if (questionDiv) {
                            actualQuestionText = questionDiv.querySelector('.question-text').textContent;
                        }
                        userAnswer = userAnswers[i] || 'Not answered';
                        isCorrect = userAnswer === answers[i];

                        let optionsHTML = '';
                        if (questionDiv) {
                            questionDiv.querySelectorAll('.options label').forEach(label => {
                                const value = label.querySelector('input').value;
                                const optionText = label.textContent.trim();
                                let optionClass = '';
                                if (value === userAnswer && !isCorrect) {
                                    optionClass = 'incorrect';
                                } else if (value === answers[i]) {
                                    optionClass = 'correct';
                                }
                                optionsHTML += `<span class="${optionClass}">${optionText}</span><br>`;
                            });
                        }

                        questionHTML = `<div class="question-title-text">${actualQuestionText || ''}</div><div class="options-feedback">${optionsHTML}</div>`;
                    }

                    if (isCorrect) correctCount++;

                    const currentPassageRef = passageReferences[i] || 'No relevant passage provided.';

                    feedbackItem.innerHTML = `
                        <div class="feedback-question">
                            <span class="${isCorrect ? 'correct' : 'incorrect'}">Question ${i}:</span>
                            ${isCorrect ? `<i class="fas fa-check correct" style="margin-left: 5px;"></i>` : `<i class="fas fa-times incorrect" style="margin-left: 5px;"></i>`}
                        </div>
                        <p>${questionHTML}</p>
                        <div class="feedback-answer">
                            <strong>Your answer:</strong> ${userAnswer || 'Not answered'}<br>
                            ${!isCorrect ? `<strong>Correct answer:</strong> ${answers[i]}` : ''}
                        </div>
                        <div class="feedback-explanation">
                            <strong>Explanation:</strong> ${explanations[i]}
                        </div>
                        <div class="feedback-passage">
                            <strong>Relevant passage:</strong> "${currentPassageRef}"
                        </div>
                    `;

                    feedbackBody.appendChild(feedbackItem);
                }

                const scoreDisplay = document.getElementById('score-display');
                if (scoreDisplay) {
                    scoreDisplay.textContent = `${correctCount}/14`;
                }
                feedbackOverlay.style.display = 'flex';
            });

            closeFeedbackBtn.addEventListener('click', () => {
                feedbackOverlay.style.display = 'none';
            });

            feedbackOverlay.addEventListener('click', (e) => {
                if (e.target === feedbackOverlay) {
                    feedbackOverlay.style.display = 'none';
                }
            });

            // Initialize timer display and progress
            updateTimer();
            updateProgress();
        });
    </script>
</body>
</html>