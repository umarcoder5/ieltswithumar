<script type="text/javascript">
        var gk_isXlsx = false;
        var gk_xlsxFileLookup = {};
        var gk_fileData = {};
        function filledCell(cell) {
          return cell !== '' && cell != null;
        }
        function loadFileData(filename) {
        if (gk_isXlsx && gk_xlsxFileLookup[filename]) {
            try {
                var workbook = XLSX.read(gk_fileData[filename], { type: 'base64' });
                var firstSheetName = workbook.SheetNames[0];
                var worksheet = workbook.Sheets[firstSheetName];

                // Convert sheet to JSON to filter blank rows
                var jsonData = XLSX.utils.sheet_to_json(worksheet, { header: 1, blankrows: false, defval: '' });
                // Filter out blank rows (rows where all cells are empty, null, or undefined)
                var filteredData = jsonData.filter(row => row.some(filledCell));

                // Heuristic to find the header row by ignoring rows with fewer filled cells than the next row
                var headerRowIndex = filteredData.findIndex((row, index) =>
                  row.filter(filledCell).length >= filteredData[index + 1]?.filter(filledCell).length
                );
                // Fallback
                if (headerRowIndex === -1 || headerRowIndex > 25) {
                  headerRowIndex = 0;
                }

                // Convert filtered JSON back to CSV
                var csv = XLSX.utils.aoa_to_sheet(filteredData.slice(headerRowIndex)); // Create a new sheet from filtered array of arrays
                csv = XLSX.utils.sheet_to_csv(csv, { header: 1 });
                return csv;
            } catch (e) {
                console.error(e);
                return "";
            }
        }
        return gk_fileData[filename] || "";
        }
        </script><!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>IELTS Reading Tests | IELTS WITH UMAR</title>
    <link rel="icon" href="IELTS WITH UMAR LOGO ORIGINAL.jpg" type="image/png">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        :root {
            --bg-color: #ffffff;
            --text-color: #333333;
            --passage-bg: #f8f9fa;
            --questions-bg: #ffffff;
            --border-color: #e0e0e0;
            --highlight-color: #90EE90;
            /* Changed from blue (#87CEEB) to light green */
            --header-bg: #F0FFF0;
            /* Changed from light blue (#F0F8FF) to light green */
            --header-text: #333333;
            --button-bg: #28a745;
            /* Changed from blue (#007FFF) to green */
            --button-hover: #218838;
            /* Changed from darker blue (#005fbe) to darker green */
            --correct-color: #28a745;
            --incorrect-color: #dc3545;
            --progress-complete: #28a745;
            /* Changed from blue (#007FFF) to green */
            --progress-incomplete: #bdbdbd;
            --timer-bg: #e6ffe6;
            /* Changed from light blue (#e0f2f7) to light green */
            --timer-text: #28a745;
            /* Changed from blue (#0288d1) to green */
            --footer-bg: #f5f5f5;
        }

        .night-mode {
            --bg-color: #121212;
            --text-color: #e0e0e0;
            --passage-bg: #1e1e1e;
            --questions-bg: #1e1e1e;
            --border-color: #424242;
            --highlight-color: #2e7d32;
            /* Changed from dark blue (#0047AB) to dark green */
            --header-bg: #1a1a1a;
            --header-text: #ffffff;
            --button-bg: #2e7d32;
            /* Changed from dark blue (#0047AB) to dark green */
            --button-hover: #1b5e20;
            /* Changed from darker blue (#002e70) to darker green */
            --correct-color: #218838;
            --incorrect-color: #c82333;
            --progress-complete: #2e7d32;
            /* Changed from dark blue (#0047AB) to dark green */
            --progress-incomplete: #616161;
            --timer-bg: #1b5e20;
            /* Changed from dark blue (#002b4d) to dark green */
            --timer-text: #81c784;
            /* Changed from light blue (#81d4fa) to light green */
            --footer-bg: #121212;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            transition: background-color 0.3s, color 0.3s;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background-color: var(--bg-color);
            color: var(--text-color);
            line-height: 1.6;
            height: 100vh;
            display: flex;
            flex-direction: column;
            overflow: hidden;
        }

        header {
            background-color: var(--header-bg);
            color: var(--header-text);
            padding: 12px 20px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);
            z-index: 100;
        }

        .header-logo {
            font-size: 18px;
            font-weight: 600;
        }

        .header-logo a {
            color: var(--header-text);
            text-decoration: none;
        }

        .header-controls {
            display: flex;
            gap: 15px;
            align-items: center;
        }

        .timer-container {
            background-color: var(--timer-bg);
            color: var(--timer-text);
            padding: 8px 15px;
            border-radius: 50px;
            font-weight: 600;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .timer-controls {
            display: flex;
            gap: 8px;
        }

        .timer-controls button {
            background: none;
            border: none;
            color: var(--timer-text);
            cursor: pointer;
            font-size: 16px;
            padding: 4px;
            border-radius: 50%;
            width: 28px;
            height: 28px;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .timer-controls button:hover {
            background-color: rgba(0, 0, 0, 0.1);
        }

        .night-mode .timer-controls button:hover {
            background-color: rgba(255, 255, 255, 0.2);
        }

        .mode-toggle {
            background: none;
            border: none;
            color: var(--header-text);
            cursor: pointer;
            font-size: 20px;
            padding: 6px;
            border-radius: 50%;
            width: 36px;
            height: 36px;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .mode-toggle:hover {
            background-color: rgba(0, 0, 0, 0.1);
        }

        .night-mode .mode-toggle:hover {
            background-color: rgba(255, 255, 255, 0.2);
        }

        main {
            display: flex;
            flex: 1;
            overflow: hidden;
        }

        .passage-container,
        .questions-container {
            height: 100%;
            overflow-y: auto;
            padding: 20px;
        }

        .passage-container {
            width: 50%;
            background-color: var(--passage-bg);
            border-right: 1px solid var(--border-color);
            position: relative;
        }

        .questions-container {
            width: 50%;
            background-color: var(--questions-bg);
        }

        .passage-content {
            max-width: 800px;
            margin: 0 auto;
        }

        .passage-title {
            font-size: 24px;
            font-weight: 700;
            margin-bottom: 20px;
            color: var(--text-color);
            padding-bottom: 10px;
            border-bottom: 2px solid var(--border-color);
        }

        .passage-text {
            font-size: 17px;
        }

        .question-text {
            font-size: 17px;
            line-height: 1.8;
        }

        .passage-text p {
            margin-bottom: 20px;
            text-align: justify;
        }

        .highlight {
            background-color: var(--highlight-color);
            cursor: pointer;
        }

        .highlight-tooltip {
            position: absolute;
            background-color: #333;
            color: white;
            padding: 5px 10px;
            border-radius: 4px;
            font-size: 14px;
            z-index: 1000;
            cursor: pointer;
            display: flex;
            align-items: center;
            gap: 5px;
        }

        .section-title {
            font-size: 18px;
            font-weight: 600;
            margin: 25px 0 15px;
            color: var(--text-color);
            padding-bottom: 8px;
            border-bottom: 1px solid var(--border-color);
        }

        .question-group {
            margin-bottom: 30px;
        }

        .question {
            margin-bottom: 25px;
            padding: 15px;
            border-radius: 8px;
            background-color: var(--passage-bg);
            border-left: 4px solid var(--border-color);
        }

        .question-title {
            font-weight: 600;
            margin-bottom: 12px;
            display: flex;
            align-items: baseline;
        }

        .question-number {
            display: inline-block;
            width: 28px;
            height: 28px;
            background-color: var(--progress-incomplete);
            color: white;
            border-radius: 50%;
            text-align: center;
            line-height: 28px;
            margin-right: 10px;
            font-size: 14px;
            flex-shrink: 0;
        }

        .question.answered .question-number {
            background-color: var(--progress-complete);
        }

        .options {
            display: flex;
            flex-direction: column;
            gap: 8px;
            margin-top: 8px;
        }

        .option {
            display: flex;
            align-items: center;
            cursor: pointer;
        }

        .option input {
            margin-right: 8px;
        }

        .fill-in-the-blank {
            background: transparent;
            border: none;
            border-bottom: 2px solid var(--text-color);
            width: 150px;
            font-family: inherit;
            font-size: 1em;
            color: inherit;
            padding: 0 4px 2px 4px;
            margin: 0 3px;
            vertical-align: baseline;
            text-align: center;
            outline: none;
            transition: border-color 0.3s;
        }

        .fill-in-the-blank:focus {
            border-bottom-color: var(--button-bg);
        }

        .instructions {
            font-size: 14px;
            color: #757575;
            margin-top: 5px;
            font-style: italic;
        }

        .matching-table {
            width: 100%;
            border-collapse: collapse;
            margin-top: 20px;
            font-size: 16px;
        }

        .matching-table th,
        .matching-table td {
            border: 1px solid var(--border-color);
            padding: 10px 15px;
            text-align: center;
        }

        .matching-table th {
            background-color: var(--header-bg);
            color: var(--header-text);
            font-weight: 600;
        }

        .matching-table td {
            background-color: var(--passage-bg);
            cursor: pointer;
            transition: background-color 0.2s;
        }

        .matching-table td:hover:not(.question-cell):not(.header-cell) {
            background-color: rgba(40, 167, 69, 0.1);
            /* Adjusted for green */
        }

        .night-mode .matching-table td:hover:not(.question-cell):not(.header-cell) {
            background-color: rgba(46, 125, 50, 0.2);
            /* Adjusted for green */
        }

        .matching-table .question-cell {
            text-align: left;
            font-weight: 500;
            background-color: var(--questions-bg);
        }

        .matching-table .header-cell {
            background-color: var(--header-bg);
            color: var(--header-text);
            font-weight: 600;
        }

        .matching-table .selected {
            background-color: var(--highlight-color);
        }

        footer {
            background-color: var(--footer-bg);
            padding: 15px 20px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            border-top: 1px solid var(--border-color);
            box-shadow: 0 -2px 5px rgba(0, 0, 0, 0.05);
        }

        .progress-container {
            display: flex;
            gap: 8px;
        }

        .progress-item {
            width: 32px;
            height: 32px;
            border-radius: 50%;
            background-color: var(--progress-incomplete);
            color: white;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 14px;
            cursor: pointer;
            transition: transform 0.2s;
        }

        .progress-item:hover {
            transform: scale(1.1);
        }

        .progress-item.completed {
            background-color: var(--progress-complete);
        }

        .action-buttons {
            display: flex;
            gap: 12px;
        }

        button {
            padding: 10px 20px;
            border: none;
            border-radius: 4px;
            cursor: pointer;
            font-weight: 600;
            transition: background-color 0.3s, border-color 0.3s, color 0.3s;
        }

        .btn-primary {
            background-color: var(--button-bg);
            color: white;
        }

        .btn-primary:hover {
            background-color: var(--button-hover);
        }

        .btn-secondary {
            background-color: transparent;
            border: 1px solid var(--button-bg);
            color: var(--button-bg);
        }

        .btn-secondary:hover {
            background-color: rgba(40, 167, 69, 0.1);
            /* Adjusted for green */
        }

        .night-mode .btn-secondary:hover {
            background-color: rgba(46, 125, 50, 0.2);
            /* Adjusted for green */
        }

        .feedback-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.7);
            z-index: 1000;
            display: none;
            justify-content: center;
            align-items: center;
        }

        .feedback-container {
            background-color: var(--passage-bg);
            width: 90%;
            max-width: 900px;
            height: 90%;
            border-radius: 10px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.3);
            display: flex;
            flex-direction: column;
        }

        .feedback-header {
            padding: 20px;
            border-bottom: 1px solid var(--border-color);
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .feedback-title {
            font-size: 22px;
            font-weight: 700;
            color: var(--text-color);
            display: flex;
            align-items: center;
            gap: 10px;
        }

        #close-feedback {
            font-size: 24px;
            background: none;
            border: none;
            color: var(--text-color);
            cursor: pointer;
        }

        .score-display {
            font-size: 24px;
            font-weight: 700;
            margin-left: 10px;
        }

        .feedback-body {
            padding: 20px;
            overflow-y: auto;
        }

        .feedback-item {
            margin-bottom: 25px;
            padding: 15px;
            border-radius: 8px;
            background-color: var(--questions-bg);
        }

        .feedback-question {
            font-weight: 600;
            margin-bottom: 10px;
            display: flex;
            align-items: center;
        }

        .feedback-answer {
            margin-bottom: 10px;
            padding: 8px 12px;
            border-radius: 4px;
            background-color: rgba(0, 0, 0, 0.05);
        }

        .correct {
            color: var(--correct-color);
        }

        .incorrect {
            color: var(--incorrect-color);
        }

        .feedback-explanation {
            margin-top: 10px;
            padding: 10px;
            border-left: 3px solid var(--button-bg);
            background-color: rgba(0, 0, 0, 0.03);
        }

        .feedback-passage {
            margin-top: 8px;
            font-style: italic;
            color: #757575;
        }

        @media (max-width: 900px) {
            main {
                flex-direction: column;
            }

            .passage-container,
            .questions-container {
                width: 100%;
                height: 50%;
            }

            .passage-container {
                border-right: none;
                border-bottom: 1px solid var(--border-color);
            }

            .progress-container {
                flex-wrap: wrap;
                max-width: 60%;
            }
        }

        @media (max-width: 600px) {
            header {
                flex-direction: column;
                gap: 10px;
                padding: 10px;
            }

            .header-controls {
                width: 100%;
                justify-content: space-around;
            }

            .progress-container {
                max-width: 50%;
            }

            .progress-item {
                width: 26px;
                height: 26px;
                font-size: 12px;
            }

            footer {
                flex-direction: column;
                gap: 15px;
            }

            .action-buttons {
                width: 100%;
                justify-content: center;
            }
        }
    </style>
</head>

<body>
    <header style="background-color: rgb(0, 175, 0);">
        <div class="header-controls">
            <div class="timer-container">
                <i class="fas fa-clock"></i>
                <span id="timer">20:00</span>
                <div class="timer-controls">
                    <button id="start-timer" title="Start"><i class="fas fa-play"></i></button>
                    <button id="pause-timer" title="Pause"><i class="fas fa-pause"></i></button>
                    <button id="reset-timer" title="Reset"><i class="fas fa-redo"></i></button>
                </div>
            </div>
            <button class="mode-toggle" id="night-mode-toggle" title="Toggle Night Mode">
                <i class="fas fa-moon"></i>
            </button>
        </div>
    </header>

    <main>
        <div class="passage-container" id="passage-container">
            <div class="passage-content">
                <div class="passage-title">Life on Mars?</div>
                <div class="passage-text" id="passage-text">
                    <p>Terraforming may sound like something out of science fiction, but some believe it is possible to turn that fiction into fact.</p>
                    <p>As plans are slowly being drawn up for the first manned mission to Mars, many space travel sceptics are asking one vital question: why go there? Mars is a barren, desolate planet, and with its thin atmosphere and bitterly cold climate, it would appear to be completely unsuitable for human life. Above all, it is a very distant place, and getting there would be an enormous challenge. However, the planet might just hold the key to long-term human survival. With the Earth's population currently at more than seven billion and climbing, we may eventually be forced to look elsewhere in the solar system for somewhere to live. It is just possible that, contrary to photographic evidence, Mars may be more promising than it appears.</p>
                    <p>Today, Mars is a viciously cold, dry place. However, it does have some things in common with our own planet. For example, it has a daily rotation rate of 24 hours 37 minutes, compared with 23 hours 56 minutes on Earth. It also has an axial tilt of 24 degrees, which is just half a degree more than Earth's, and a gravitational pull one third of Earth's. Furthermore, it holds many of the elements that are required to support life, including carbon and oxygen (in the form of carbon dioxide), nitrogen, and frozen water at its polar ice caps. In fact, if you were to travel back in time several billions years, you would notice some remarkable parallels between the atmosphere on Earth then and Mars today. Back then, Earth was also a lifeless planet; until photosynthetic bacteria developed and began to produce enough oxygen to allow for the development of animal and plant life, our atmosphere also consisted entirely of carbon dioxide and nitrogen.</p>
                    <p>It comes as no surprise to learn, therefore, that some scientists believe the same process which turned Earth's atmosphere from mostly carbon dioxide into breathable air could be repeated on Mars, but by using technology rather than by letting nature and evolution take its natural course. Terraforming, as this process is known, would initially create a greenhouse effect that would heat the planet, which in turn would create other conditions necessary to provide a suitable living environment for plants and animals. However, it would be a highly challenging undertaking, and the process of terraforming the entire planet into an Earth-like habitat could still take many thousands of years.</p>
                    <p>Three terraforming methods have been suggested, with the first already under development, albeit for a different purpose. At present, the American space agency NASA is working on a system that will use large mirrors to capture the sun's radiation. This radiation will be used to propel spacecraft through space, removing the need for heavy and expensive rocket fuel. With a few changes, it might be possible to use similar mirrors to reflect the sun's radiation and heat the surface of Mars. Aimed at the planet from a distance of two hundred thousand miles, these enormous mirrors would raise the surface temperature by a few degrees. If they were concentrated on the polar ice caps, they would provide enough heat to melt the polar ice caps and release the carbon dioxide that is believed to be trapped there. Gradually, as the temperature rose, greenhouse gases would be released, and this would create a form of Martian global warming, the first stage in making the planet sustainable for life.</p>
                    <p>The second method would be to set up greenhouse gas 'factories' in order to raise the temperature of the planet. It is generally accepted that greenhouse gases produced by heavy industry are raising the Earth's temperature. Therefore, by building hundreds of greenhouse-gas emitting factories on Mars, a similar effect could be achieved. Carbon dioxide, methane and other greenhouse gases would be pumped into the Martian atmosphere. The same factories would then produce oxygen by mimicking the natural process of plant photosynthesis: they would inhale the carbon dioxide they produce, and then emit oxygen. The process could be accelerated by sowing the planet's surface with photosynthetic bacteria, which would increase the rate at which oxygen is produced. Eventually, there would be enough oxygen on the planet for humans to breathe using only special apparatus similar to that used by mountain climbers.</p>
                    <p>The third, and by far the most extreme, method has been proposed by space scientists Robert Zubrin and Christopher McKay. They believe that it would be possible to produce greenhouse gases and water by firing large, ammonia-bearing asteroids at the planet. Each asteroid would weigh about ten billion tons, and would be powered by huge rocket engines which would move it towards Mars at over 10,000 miles per hour. At this speed, it would take each asteroid about ten years to reach its destination. The energy produced by one asteroid slamming into Mars' surface, say Zubrin and McKay, would raise the temperature of the planet by three degrees Celsius and melt about one thousand billion tons of ice at the polar caps. They believe it would take many of these asteroids, and at least fifty years, in order to create a temperate climate and enough water to cover a quarter of the planet's surface.</p>
                    <p>Terraforming Mars, if it is ever attempted, will be neither cheap nor easy. And it certainly won't be quick: although optimists like Zubrin and McKay say it could be achieved in five or six decades, the reality is that terraforming is more likely to take hundreds or even thousands of years. Furthermore, it will stretch human ingenuity to its limits, and will require levels of will and commitment that have rarely been seen before. The challenge of developing a habitable environment and bringing life to the cold, dry world of Mars is fraught with challenges, but it might just be one that saves the human race.</p>
                </div>
            </div>
        </div>
        
        <div class="questions-container" id="questions-container">
            <div class="section-title">Questions 27–31</div>
            <div class="instructions">Do the following statements agree with the views of the writer in Reading Passage 3?<br>In boxes 27-31 on your answer sheet, write<br>YES &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; if the statement agrees with the views of the writer<br>NO &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; if the statement contradicts the views of the writer<br>NOT GIVEN &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; if it is impossible to say what the writer thinks about this</div>
            
            <div class="question-group">
                <div class="question" id="q27">
                    <div class="question-title">
                        <div class="question-number">27</div>
                        <div class="question-text">Pictures of Mars suggest it might make a good place for people to settle.</div>
                    </div>
                    <div class="options">
                        <label class="option"><input type="radio" name="q27" value="YES"> YES</label>
                        <label class="option"><input type="radio" name="q27" value="NO"> NO</label>
                        <label class="option"><input type="radio" name="q27" value="NOT GIVEN"> NOT GIVEN</label>
                    </div>
                </div>
                
                <div class="question" id="q28">
                    <div class="question-title">
                        <div class="question-number">28</div>
                        <div class="question-text">Modern technology could be used to make Mars more like Earth.</div>
                    </div>
                    <div class="options">
                        <label class="option"><input type="radio" name="q28" value="YES"> YES</label>
                        <label class="option"><input type="radio" name="q28" value="NO"> NO</label>
                        <label class="option"><input type="radio" name="q28" value="NOT GIVEN"> NOT GIVEN</label>
                    </div>
                </div>

                <div class="question" id="q29">
                    <div class="question-title">
                        <div class="question-number">29</div>
                        <div class="question-text">One method of terraforming could involve adapting technology that is already under development.</div>
                    </div>
                    <div class="options">
                        <label class="option"><input type="radio" name="q29" value="YES"> YES</label>
                        <label class="option"><input type="radio" name="q29" value="NO"> NO</label>
                        <label class="option"><input type="radio" name="q29" value="NOT GIVEN"> NOT GIVEN</label>
                    </div>
                </div>

                <div class="question" id="q30">
                    <div class="question-title">
                        <div class="question-number">30</div>
                        <div class="question-text">Greenhouse gas factories would provide enough oxygen for people to breathe without special equipment.</div>
                    </div>
                    <div class="options">
                        <label class="option"><input type="radio" name="q30" value="YES"> YES</label>
                        <label class="option"><input type="radio" name="q30" value="NO"> NO</label>
                        <label class="option"><input type="radio" name="q30" value="NOT GIVEN"> NOT GIVEN</label>
                    </div>
                </div>

                <div class="question" id="q31">
                    <div class="question-title">
                        <div class="question-number">31</div>
                        <div class="question-text">Terraforming Mars would be an extreme test of human skill and intelligence.</div>
                    </div>
                    <div class="options">
                        <label class="option"><input type="radio" name="q31" value="YES"> YES</label>
                        <label class="option"><input type="radio" name="q31" value="NO"> NO</label>
                        <label class="option"><input type="radio" name="q31" value="NOT GIVEN"> NOT GIVEN</label>
                    </div>
                </div>
            </div>
            
            <div class="section-title">Questions 32–35</div>
            <div class="instructions">Choose the correct letter, A, B, C or D.<br>Write the correct letter in boxes 32-35 on your answer sheet.</div>
            
            <div class="question-group">
                <div class="question" id="q32">
                    <div class="question-title">
                        <div class="question-number">32</div>
                        <div class="question-text">Which one of these factors suggests that Mars might be a good place for people to settle?</div>
                    </div>
                    <div class="options">
                        <label class="option"><input type="radio" name="q32" value="A"> A. It is not too far from Earth.</label>
                        <label class="option"><input type="radio" name="q32" value="B"> B. It has no other life forms living there.</label>
                        <label class="option"><input type="radio" name="q32" value="C"> C. It has a cool, dry climate.</label>
                        <label class="option"><input type="radio" name="q32" value="D"> D. It has some similarities with Earth.</label>
                    </div>
                </div>
                
                <div class="question" id="q33">
                    <div class="question-title">
                        <div class="question-number">33</div>
                        <div class="question-text">The first step in terraforming Mars would be to</div>
                    </div>
                    <div class="options">
                        <label class="option"><input type="radio" name="q33" value="A"> A. make the planet warmer.</label>
                        <label class="option"><input type="radio" name="q33" value="B"> B. create a breathable atmosphere.</label>
                        <label class="option"><input type="radio" name="q33" value="C"> C. find a suitable source of water.</label>
                        <label class="option"><input type="radio" name="q33" value="D"> D. create a habitat for living organisms.</label>
                    </div>
                </div>

                <div class="question" id="q34">
                    <div class="question-title">
                        <div class="question-number">34</div>
                        <div class="question-text">Special factories on Mars could be to</div>
                    </div>
                    <div class="options">
                        <label class="option"><input type="radio" name="q34" value="A"> A. control the level of greenhouse gases.</label>
                        <label class="option"><input type="radio" name="q34" value="B"> B. absorb excess levels of carbon dioxide.</label>
                        <label class="option"><input type="radio" name="q34" value="C"> C. produce oxygen in a manner similar to plants.</label>
                        <label class="option"><input type="radio" name="q34" value="D"> D. help grow essential bacteria.</label>
                    </div>
                </div>

                <div class="question" id="q35">
                    <div class="question-title">
                        <div class="question-number">35</div>
                        <div class="question-text">What is the writer's main purpose in the passage?</div>
                    </div>
                    <div class="options">
                        <label class="option"><input type="radio" name="q35" value="A"> A. To explain why we need to terraform Mars.</label>
                        <label class="option"><input type="radio" name="q35" value="B"> B. To illustrate the three processes required to terraform a planet like Mars.</label>
                        <label class="option"><input type="radio" name="q35" value="C"> C. To consider how and why Mars might be terraformed.</label>
                        <label class="option"><input type="radio" name="q35" value="D"> D. To demonstrate how straightforward it would be to terraform a planet.</label>
                    </div>
                </div>
            </div>

            <div class="section-title">Questions 36–40</div>
            <div class="instructions">Complete each sentence with the correct ending, A-I, below.<br>Write the correct letter, A-I, in boxes 36-40 on your answer sheet.</div>
            
            <div class="question-group" id="q-group-36-40">
                <div class="question" id="q36">
                    <div class="question-title">
                        <div class="question-number">36</div>
                        <div class="question-text">One method of terraforming Mars would be to <input type="text" class="fill-in-the-blank" id="q36-input"> asteroids at the planet.</div>
                    </div>
                </div>
                <div class="question" id="q37">
                    <div class="question-title">
                        <div class="question-number">37</div>
                        <div class="question-text">Rockets attached to an enormous asteroid would propel it towards Mars, taking ten years to <input type="text" class="fill-in-the-blank" id="q37-input"> the enormous distances required.</div>
                    </div>
                </div>
                <div class="question" id="q38">
                    <div class="question-title">
                        <div class="question-number">38</div>
                        <div class="question-text">The asteroid would <input type="text" class="fill-in-the-blank" id="q38-input"> the planet with incredible force and</div>
                    </div>
                </div>
                <div class="question" id="q39">
                    <div class="question-title">
                        <div class="question-number">39</div>
                        <div class="question-text"><input type="text" class="fill-in-the-blank" id="q39-input"> enough energy to</div>
                    </div>
                </div>
                <div class="question" id="q40">
                    <div class="question-title">
                        <div class="question-number">40</div>
                        <div class="question-text"><input type="text" class="fill-in-the-blank" id="q40-input"> the planet's temperature.</div>
                    </div>
                </div>
                <div class="matching-options-list">
                    <strong>List of Endings</strong>
                    <ul>
                        <li>A. cover</li>
                        <li>B. create</li>
                        <li>C. hit</li>
                        <li>D. increase</li>
                        <li>E. land</li>
                        <li>F. drive</li>
                        <li>G. power</li>
                        <li>H. rise</li>
                        <li>I. shoot</li>
                    </ul>
                </div>
            </div>
        </div>
    </main>

    <footer>
        <div class="progress-container" id="progress-container">
        </div>
        <div class="action-buttons">
            <button class="btn-secondary" id="reset-btn">Reset Answers</button>
            <button class="btn-primary" id="submit-btn">Submit Answers</button>
        </div>
    </footer>

    <div class="feedback-overlay" id="feedback-overlay">
        <div class="feedback-container" id="feedback-container">
            <div class="feedback-header">
                <div class="feedback-title">
                    <i class="fas fa-chart-bar"></i> Your Results
                    <span class="score-display" id="score-display">0/14</span>
                </div>
                <button id="close-feedback" title="Close"><i class="fas fa-times"></i></button>
            </div>
            <div class="feedback-body" id="feedback-body">
            </div>
        </div>
    </div>

    <script>
        // Timer functionality
        let timerInterval;
        let seconds = 1200; // 20 minutes
        let timerRunning = false;
        
        const timerDisplay = document.getElementById('timer');
        const startTimer = document.getElementById('start-timer');
        const pauseTimer = document.getElementById('pause-timer');
        const resetTimer = document.getElementById('reset-timer');
        
        function formatTime(seconds) {
            const mins = Math.floor(seconds / 60).toString().padStart(2, '0');
            const secs = (seconds % 60).toString().padStart(2, '0');
            return `${mins}:${secs}`;
        }
        
        function updateTimer() {
            timerDisplay.textContent = formatTime(seconds);
            if (seconds <= 0) {
                clearInterval(timerInterval);
                timerRunning = false;
                document.getElementById('submit-btn').click();
            }
        }
        
        startTimer.addEventListener('click', () => {
            if (!timerRunning) {
                timerRunning = true;
                timerInterval = setInterval(() => {
                    seconds--;
                    updateTimer();
                }, 1000);
            }
        });
        
        pauseTimer.addEventListener('click', () => {
            if (timerRunning) {
                clearInterval(timerInterval);
                timerRunning = false;
            }
        });
        
        resetTimer.addEventListener('click', () => {
            clearInterval(timerInterval);
            timerRunning = false;
            seconds = 1200;
            updateTimer();
        });
        
        // Night mode toggle
        const nightModeToggle = document.getElementById('night-mode-toggle');
        nightModeToggle.addEventListener('click', () => {
            document.body.classList.toggle('night-mode');
            const icon = nightModeToggle.querySelector('i');
            if (document.body.classList.contains('night-mode')) {
                icon.classList.remove('fa-moon');
                icon.classList.add('fa-sun');
            } else {
                icon.classList.remove('fa-sun');
                icon.classList.add('fa-moon');
            }
        });
        
        // Create progress indicators for questions 27-40
        const progressContainer = document.getElementById('progress-container');
        for (let i = 27; i <= 40; i++) {
            const progressItem = document.createElement('div');
            progressItem.className = 'progress-item';
            progressItem.textContent = i;
            progressItem.dataset.question = i;
            progressContainer.appendChild(progressItem);
            
            progressItem.addEventListener('click', () => {
                const questionElement = document.getElementById(`q${i}`);
                if (questionElement) {
                    questionElement.scrollIntoView({ behavior: 'smooth' });
                }
            });
        }
        
        // Text highlighting functionality
        let highlightTooltip = null;

        function handleMouseUp(e) {
            const container = e.currentTarget;
            const selection = window.getSelection();
            if (selection.toString().trim() !== '' && container.contains(selection.anchorNode)) {
                const range = selection.getRangeAt(0);
                const rect = range.getBoundingClientRect();

                if (highlightTooltip) {
                    highlightTooltip.remove();
                    highlightTooltip = null;
                }

                highlightTooltip = document.createElement('div');
                highlightTooltip.className = 'highlight-tooltip';
                highlightTooltip.innerHTML = '<i class="fas fa-highlighter"></i> Highlight';
                highlightTooltip.style.position = 'fixed';
                highlightTooltip.style.top = `${rect.top - 40}px`;
                highlightTooltip.style.left = `${rect.left}px`;
                document.body.appendChild(highlightTooltip);

                highlightTooltip.addEventListener('click', () => {
                    const span = document.createElement('span');
                    span.className = 'highlight';
                    span.appendChild(range.extractContents());
                    range.insertNode(span);
                    selection.removeAllRanges();
                    highlightTooltip.remove();
                    highlightTooltip = null;
                });
            }
        }

        document.getElementById('passage-text').addEventListener('mouseup', handleMouseUp);
        document.getElementById('questions-container').addEventListener('mouseup', handleMouseUp);
        
        document.addEventListener('mousedown', (e) => {
            if (highlightTooltip && !highlightTooltip.contains(e.target)) {
                highlightTooltip.remove();
                highlightTooltip = null;
                window.getSelection().removeAllRanges();
            }
        });
        
        // Store user answers for all questions
        const userAnswers = {};

        // Track answered questions and update progress bar
        const progressItems = document.querySelectorAll('.progress-item');
        
        function updateProgress() {
            let answeredCount = 0;
            
            for (let i = 27; i <= 40; i++) {
                const questionNumber = i;
                let answered = false;

                if (questionNumber >= 27 && questionNumber <= 35) {
                    const selectedOption = document.querySelector(`input[name="q${questionNumber}"]:checked`);
                    answered = selectedOption !== null;
                    if (answered) {
                        userAnswers[questionNumber] = selectedOption.value;
                    } else {
                        delete userAnswers[questionNumber];
                    }
                } else if (questionNumber >= 36 && questionNumber <= 40) {
                    const input = document.getElementById(`q${questionNumber}-input`);
                    answered = input && input.value.trim() !== '';
                    if (answered) {
                        userAnswers[questionNumber] = input.value.trim().toLowerCase();
                    } else {
                        delete userAnswers[questionNumber];
                    }
                }
                
                const progressItem = progressItems[questionNumber - 27];
                if (answered) {
                    progressItem.classList.add('completed');
                    answeredCount++;
                } else {
                    progressItem.classList.remove('completed');
                }
            }
            return answeredCount;
        }
        
        // Listen for changes on radio button inputs
        document.querySelectorAll('input[type="radio"]').forEach(radio => {
            radio.addEventListener('change', updateProgress);
        });

        // Listen for input on fill-in-the-blank fields
        document.querySelectorAll('input[type="text"]').forEach(input => {
            input.addEventListener('input', updateProgress);
        });
        
        // Reset button
        document.getElementById('reset-btn').addEventListener('click', () => {
            // Reset radio button answers
            document.querySelectorAll('input[type="radio"]').forEach(radio => {
                radio.checked = false;
            });
            
            // Reset fill-in-the-blank inputs
            document.querySelectorAll('input[type="text"]').forEach(input => {
                input.value = '';
            });

            // Clear all stored answers
            for (let key in userAnswers) {
                delete userAnswers[key];
            }

            // Reset highlights
            document.querySelectorAll('.highlight').forEach(highlight => {
                const parent = highlight.parentNode;
                while (highlight.firstChild) {
                    parent.insertBefore(highlight.firstChild, highlight);
                }
                parent.removeChild(highlight);
                parent.normalize();
            });
            
            updateProgress();
            document.getElementById('feedback-overlay').style.display = 'none';
        });
        
        // Submit and Feedback functionality
        const feedbackOverlay = document.getElementById('feedback-overlay');
        const closeFeedbackBtn = document.getElementById('close-feedback');

        document.getElementById('submit-btn').addEventListener('click', () => {
            pauseTimer.click();
            
            // Define the correct answers and explanations
            const answers = {
                27: 'NO',
                28: 'YES',
                29: 'YES',
                30: 'NO',
                31: 'YES',
                32: 'D',
                33: 'A',
                34: 'C',
                35: 'C',
                36: 'I',
                37: 'A',
                38: 'C',
                39: 'B',
                40: 'D'
            };
            
            const explanations = {
                27: "The passage states, 'It is just possible that, contrary to photographic evidence, Mars may be more promising than it appears,' indicating that pictures suggest Mars is not a good place to settle.",
                28: "The passage mentions that 'some scientists believe the same process which turned Earth's atmosphere from mostly carbon dioxide into breathable air could be repeated on Mars, but by using technology.'",
                29: "The passage confirms that 'Three terraforming methods have been suggested, with the first already under development, albeit for a different purpose.'",
                30: "The passage states that greenhouse gas factories would produce oxygen, but 'Eventually, there would be enough oxygen on the planet for humans to breathe using only special apparatus,' contradicting the idea of breathing without equipment.",
                31: "The passage notes that terraforming 'will stretch human ingenuity to its limits,' indicating an extreme test of skill and intelligence.",
                32: "The passage highlights that Mars 'does have some things in common with our own planet,' such as rotation rate, axial tilt, and elements required for life, making D the correct choice.",
                33: "The passage explains that terraforming 'would initially create a greenhouse effect that would heat the planet,' indicating that making the planet warmer is the first step.",
                34: "The passage states that factories would 'produce oxygen by mimicking the natural process of plant photosynthesis,' making C the correct choice.",
                35: "The passage discusses both the reasons for terraforming Mars (e.g., Earth's population growth) and the methods proposed, aligning with option C: 'To consider how and why Mars might be terraformed.'",
                36: "The passage states, 'firing large, ammonia-bearing asteroids at the planet,' which matches 'shoot' (I).",
                37: "The passage mentions that it would take ten years 'to reach its destination,' which matches 'cover' (A) the enormous distances.",
                38: "The passage states that the asteroid would 'slamming into Mars' surface,' which matches 'hit' (C).",
                39: "The energy produced would 'raise the temperature' and melt ice, matching 'create' (B) enough energy.",
                40: "The passage states that the asteroid impact 'would raise the temperature of the planet,' matching 'increase' (D)."
            };

            const passageReferences = {
                27: "It is just possible that, contrary to photographic evidence, Mars may be more promising than it appears.",
                28: "It comes as no surprise to learn, therefore, that some scientists believe the same process which turned Earth's atmosphere from mostly carbon dioxide into breathable air could be repeated on Mars, but by using technology rather than by letting nature and evolution take its natural course.",
                29: "Three terraforming methods have been suggested, with the first already under development, albeit for a different purpose.",
                30: "Eventually, there would be enough oxygen on the planet for humans to breathe using only special apparatus similar to that used by mountain climbers.",
                31: "Furthermore, it will stretch human ingenuity to its limits, and will require levels of will and commitment that have rarely been seen before.",
                32: "However, it does have some things in common with our own planet. For example, it has a daily rotation rate of 24 hours 37 minutes, compared with 23 hours 56 minutes on Earth. It also has an axial tilt of 24 degrees, which is just half a degree more than Earth's, and a gravitational pull one third of Earth's. Furthermore, it holds many of the elements that are required to support life, including carbon and oxygen (in the form of carbon dioxide), nitrogen, and frozen water at its polar ice caps.",
                33: "Terraforming, as this process is known, would initially create a greenhouse effect that would heat the planet, which in turn would create other conditions necessary to provide a suitable living environment for plants and animals.",
                34: "The same factories would then produce oxygen by mimicking the natural process of plant photosynthesis: they would inhale the carbon dioxide they produce, and then emit oxygen.",
                35: "With the Earth's population currently at more than seven billion and climbing, we may eventually be forced to look elsewhere in the solar system for somewhere to live. [Multiple paragraphs describe the methods of terraforming.]",
                36: "They believe that it would be possible to produce greenhouse gases and water by firing large, ammonia-bearing asteroids at the planet.",
                37: "At this speed, it would take each asteroid about ten years to reach its destination.",
                38: "The energy produced by one asteroid slamming into Mars' surface, say Zubrin and McKay, would raise the temperature of the planet by three degrees Celsius and melt about one thousand billion tons of ice at the polar caps.",
                39: "The energy produced by one asteroid slamming into Mars' surface, say Zubrin and McKay, would raise the temperature of the planet by three degrees Celsius and melt about one thousand billion tons of ice at the polar caps.",
                40: "The energy produced by one asteroid slamming into Mars' surface, say Zubrin and McKay, would raise the temperature of the planet by three degrees Celsius and melt about one thousand billion tons of ice at the polar caps."
            };
            
            let correctCount = 0;
            const feedbackBody = document.getElementById('feedback-body');
            feedbackBody.innerHTML = '';
            
            for (let i = 27; i <= 40; i++) {
                let userAnswer, isCorrect, questionHTML, actualQuestionText;
                const feedbackItem = document.createElement('div');
                feedbackItem.className = 'feedback-item';
                
                if (i >= 27 && i <= 35) {
                    const questionDiv = document.getElementById(`q${i}`);
                    actualQuestionText = questionDiv.querySelector('.question-text').textContent;
                    userAnswer = userAnswers[i] || 'Not answered';
                    isCorrect = userAnswer === answers[i];
                    
                    let optionsHTML = '';
                    questionDiv.querySelectorAll('.options label').forEach(label => {
                        const value = label.querySelector('input').value;
                        const optionText = label.textContent.trim();
                        let optionClass = '';
                        if (value === userAnswer && !isCorrect) {
                            optionClass = 'incorrect';
                        } else if (value === answers[i]) {
                            optionClass = 'correct';
                        }
                        optionsHTML += `<span class="${optionClass}">${optionText}</span><br>`;
                    });
                    
                    questionHTML = `<div class="question-title-text">${actualQuestionText}</div><div class="options-feedback">${optionsHTML}</div>`;
                } else if (i >= 36 && i <= 40) {
                    const questionDiv = document.getElementById(`q${i}`);
                    actualQuestionText = questionDiv.querySelector('.question-text').textContent.replace(/<[^>]+>/g, '').trim();
                    userAnswer = userAnswers[i] || 'Not answered';
                    isCorrect = userAnswer.toLowerCase() === answers[i].toLowerCase();
                    
                    questionHTML = `<div class="question-title-text">${actualQuestionText}</div>`;
                    questionHTML += `<div class="feedback-table-row">`;
                    questionHTML += `Your selection: <span class="${isCorrect ? 'correct' : 'incorrect'}"><strong>${userAnswer}</strong></span>`;
                    if (!isCorrect) {
                        questionHTML += ` Correct answer: <span class="correct"><strong>${answers[i]}</strong></span>`;
                    }
                    questionHTML += `</div>`;
                }
                
                if (isCorrect) correctCount++;
                
                const currentPassageRef = passageReferences[i] || 'No relevant passage provided.';
                
                feedbackItem.innerHTML = `
                    <div class="feedback-question">
                        <span class="${isCorrect ? 'correct' : 'incorrect'}">Question ${i}:</span>
                        ${isCorrect ? `<i class="fas fa-check correct" style="margin-left: 5px;"></i>` : `<i class="fas fa-times incorrect" style="margin-left: 5px;"></i>`}
                    </div>
                    <p>${questionHTML}</p>
                    <div class="feedback-answer">
                        <strong>Your answer:</strong> ${userAnswer || 'Not answered'}<br>
                        ${!isCorrect ? `<strong>Correct answer:</strong> ${answers[i]}` : ''}
                    </div>
                    <div class="feedback-explanation">
                        <strong>Explanation:</strong> ${explanations[i]}
                    </div>
                    <div class="feedback-passage">
                        <strong>Relevant passage:</strong> "${currentPassageRef}"
                    </div>
                `;
                
                feedbackBody.appendChild(feedbackItem);
            }
            
            document.getElementById('score-display').textContent = `${correctCount}/14`;
            feedbackOverlay.style.display = 'flex';
        });

        closeFeedbackBtn.addEventListener('click', () => {
            feedbackOverlay.style.display = 'none';
        });

        feedbackOverlay.addEventListener('click', (e) => {
            if (e.target === feedbackOverlay) {
                feedbackOverlay.style.display = 'none';
            }
        });

        // Initialize timer display and progress
        updateTimer();
        updateProgress();
    </script>
</body>
</html>